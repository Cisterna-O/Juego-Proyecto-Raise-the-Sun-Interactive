[gd_scene load_steps=53 format=3 uid="uid://swn07m8nqbgw"]

[ext_resource type="Script" uid="uid://b6gnkte75t771" path="res://scenes/player.gd" id="1_g2els"]
[ext_resource type="Texture2D" uid="uid://d2w888bgjvx43" path="res://Assets/Ducky Revamped/Spritesheets/Idle.png" id="2_g2els"]
[ext_resource type="Script" uid="uid://myrnkxwa1y40" path="res://Components/Hurtbox.gd" id="2_smehm"]
[ext_resource type="Script" uid="uid://25kawypa8j3x" path="res://Components/Hitbox.gd" id="2_ur7pv"]
[ext_resource type="Texture2D" uid="uid://bhjhqei8xqcp8" path="res://Assets/Ducky Revamped/Spritesheets/Walk.png" id="3_tuyoq"]
[ext_resource type="Texture2D" uid="uid://cy2f3i3ck14ji" path="res://Assets/Ducky Revamped/Spritesheets/Jump.png" id="4_fjrip"]
[ext_resource type="Texture2D" uid="uid://cb28jml314tkv" path="res://Assets/Ducky Revamped/Spritesheets/Hurt.png" id="5_smehm"]
[ext_resource type="Texture2D" uid="uid://7oijki0wrp2q" path="res://Assets/Ducky Revamped/Spritesheets/Dash Attack.png" id="6_ur7pv"]
[ext_resource type="Texture2D" uid="uid://b0y11i5k35mek" path="res://Assets/Ducky Revamped/Spritesheets/Air Idle.png" id="7_fjrip"]
[ext_resource type="AudioStream" uid="uid://lfge1ni1ks23" path="res://Assets/Sonido/791152__mari0411__quack.mp3" id="10_d2wvv"]
[ext_resource type="AudioStream" uid="uid://csf1v42hc3p22" path="res://Assets/Sonido/386621__jalastram__sfx_jump_44.wav" id="11_3v2ag"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_g2els"]
size = Vector2(18, 17)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_y4r1p"]
size = Vector2(13, 18)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_smehm"]
size = Vector2(18, 18)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_fjrip"]
size = Vector2(6, 11)

[sub_resource type="Animation" id="Animation_y4r1p"]
resource_name = "Idle"
length = 0.4
loop_mode = 1
step = 0.2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Pivot/Idle:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [0, 1]
}

[sub_resource type="Animation" id="Animation_d2wvv"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Pivot/Idle:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Pivot/Walk:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Pivot/Jump:frame")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Pivot/Hurt:frame")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("Pivot/Fall:frame")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("Pivot/Dash:frame")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}
tracks/6/type = "value"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("Hurtbox/CollisionShape2D:disabled")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/7/type = "value"
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/path = NodePath("Hitbox/CollisionShape2D:disabled")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="Animation" id="Animation_f1ej7"]
resource_name = "damage"
length = 0.6
loop_mode = 1
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Pivot/Hurt:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.3),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [0, 1]
}

[sub_resource type="Animation" id="Animation_oprun"]
resource_name = "dash"
length = 1.1
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Pivot/Dash:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.90000004, 1, 1.1),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = false
tracks/1/path = NodePath("Hurtbox/CollisionShape2D:disabled")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 1),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [false, true, false]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Hitbox/CollisionShape2D:disabled")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.1, 1),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [true, false, true]
}

[sub_resource type="Animation" id="Animation_smehm"]
resource_name = "fall"
length = 0.2
step = 0.2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Pivot/Fall:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}

[sub_resource type="Animation" id="Animation_jej6c"]
resource_name = "jump"
step = 0.2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Pivot/Jump:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.19999999, 0.4, 0.6),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3]
}

[sub_resource type="Animation" id="Animation_3v2ag"]
resource_name = "walk"
length = 0.8
loop_mode = 1
step = 0.2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Pivot/Walk:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.19999999, 0.39999998, 0.6),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_a8ls1"]
_data = {
&"Idle": SubResource("Animation_y4r1p"),
&"RESET": SubResource("Animation_d2wvv"),
&"damage": SubResource("Animation_f1ej7"),
&"dash": SubResource("Animation_oprun"),
&"fall": SubResource("Animation_smehm"),
&"jump": SubResource("Animation_jej6c"),
&"walk": SubResource("Animation_3v2ag")
}

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_tuyoq"]
animation = &"Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_d2wvv"]
animation = &"damage"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_smehm"]
animation = &"dash"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ur7pv"]
animation = &"fall"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_y4r1p"]
animation = &"jump"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_fjrip"]
animation = &"walk"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_smehm"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ur7pv"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_y4r1p"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_d2wvv"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_3v2ag"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_jej6c"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_f1ej7"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_oprun"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_4r5pv"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_60mlk"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_i4ail"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_a38lo"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_4ni07"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ke2ow"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_a8ls1"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_qfm1y"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_fulsm"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_l71n6"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ujl30"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_31cv2"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_pf23h"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_dt7fs"]

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_d2wvv"]
states/Idle/node = SubResource("AnimationNodeAnimation_tuyoq")
states/Idle/position = Vector2(399, 100)
states/damage/node = SubResource("AnimationNodeAnimation_d2wvv")
states/damage/position = Vector2(628, 200.75719)
states/dash/node = SubResource("AnimationNodeAnimation_smehm")
states/dash/position = Vector2(441, 4.4567833)
states/fall/node = SubResource("AnimationNodeAnimation_ur7pv")
states/fall/position = Vector2(520, 200.75719)
states/jump/node = SubResource("AnimationNodeAnimation_y4r1p")
states/jump/position = Vector2(580, -6.641983)
states/walk/node = SubResource("AnimationNodeAnimation_fjrip")
states/walk/position = Vector2(653, 100)
transitions = ["Start", "Idle", SubResource("AnimationNodeStateMachineTransition_smehm"), "Idle", "walk", SubResource("AnimationNodeStateMachineTransition_ur7pv"), "walk", "Idle", SubResource("AnimationNodeStateMachineTransition_y4r1p"), "Idle", "jump", SubResource("AnimationNodeStateMachineTransition_d2wvv"), "walk", "jump", SubResource("AnimationNodeStateMachineTransition_3v2ag"), "Idle", "fall", SubResource("AnimationNodeStateMachineTransition_jej6c"), "walk", "fall", SubResource("AnimationNodeStateMachineTransition_f1ej7"), "jump", "fall", SubResource("AnimationNodeStateMachineTransition_oprun"), "fall", "Idle", SubResource("AnimationNodeStateMachineTransition_4r5pv"), "fall", "walk", SubResource("AnimationNodeStateMachineTransition_60mlk"), "walk", "damage", SubResource("AnimationNodeStateMachineTransition_i4ail"), "fall", "damage", SubResource("AnimationNodeStateMachineTransition_a38lo"), "Idle", "damage", SubResource("AnimationNodeStateMachineTransition_4ni07"), "jump", "damage", SubResource("AnimationNodeStateMachineTransition_ke2ow"), "Idle", "dash", SubResource("AnimationNodeStateMachineTransition_a8ls1"), "jump", "dash", SubResource("AnimationNodeStateMachineTransition_qfm1y"), "walk", "dash", SubResource("AnimationNodeStateMachineTransition_fulsm"), "fall", "dash", SubResource("AnimationNodeStateMachineTransition_l71n6"), "dash", "Idle", SubResource("AnimationNodeStateMachineTransition_ujl30"), "dash", "jump", SubResource("AnimationNodeStateMachineTransition_31cv2"), "dash", "fall", SubResource("AnimationNodeStateMachineTransition_pf23h"), "dash", "walk", SubResource("AnimationNodeStateMachineTransition_dt7fs")]
graph_offset = Vector2(0, -11.567893)

[node name="Player" type="CharacterBody2D" groups=["player"]]
collision_layer = 7
collision_mask = 7
script = ExtResource("1_g2els")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, 0.5)
scale = Vector2(0.9, 0.9)
shape = SubResource("RectangleShape2D_g2els")

[node name="Hitbox" type="Area2D" parent="."]
script = ExtResource("2_ur7pv")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Hitbox"]
position = Vector2(7.5, 1)
shape = SubResource("RectangleShape2D_y4r1p")
disabled = true

[node name="Hurtbox" type="Area2D" parent="."]
collision_layer = 2
collision_mask = 2
script = ExtResource("2_smehm")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Hurtbox"]
position = Vector2(0, 1)
shape = SubResource("RectangleShape2D_smehm")

[node name="Pivot" type="Node2D" parent="."]

[node name="Idle" type="Sprite2D" parent="Pivot"]
visible = false
texture = ExtResource("2_g2els")
hframes = 2

[node name="Walk" type="Sprite2D" parent="Pivot"]
visible = false
texture = ExtResource("3_tuyoq")
hframes = 4

[node name="Jump" type="Sprite2D" parent="Pivot"]
visible = false
texture = ExtResource("4_fjrip")
hframes = 4

[node name="Hurt" type="Sprite2D" parent="Pivot"]
visible = false
texture = ExtResource("5_smehm")
hframes = 2

[node name="Dash" type="Sprite2D" parent="Pivot"]
texture = ExtResource("6_ur7pv")
hframes = 12

[node name="Fall" type="Sprite2D" parent="Pivot"]
visible = false
texture = ExtResource("7_fjrip")

[node name="Range" type="Area2D" parent="Pivot"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Pivot/Range"]
position = Vector2(11, 0.5)
shape = SubResource("RectangleShape2D_fjrip")

[node name="Hand_pos" type="Marker2D" parent="Pivot"]
position = Vector2(0, -19)

[node name="Kick_pos" type="Marker2D" parent="Pivot"]
position = Vector2(18, -6)

[node name="Camera2D" type="Camera2D" parent="."]
visible = false

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_a8ls1")
}

[node name="AnimationTree" type="AnimationTree" parent="."]
tree_root = SubResource("AnimationNodeStateMachine_d2wvv")
anim_player = NodePath("../AnimationPlayer")

[node name="Timer" type="Timer" parent="."]
wait_time = 3.0
one_shot = true

[node name="AudioDa√±o" type="AudioStreamPlayer" parent="."]
stream = ExtResource("10_d2wvv")

[node name="AudioSalto" type="AudioStreamPlayer" parent="."]
stream = ExtResource("11_3v2ag")
volume_db = -20.0

[connection signal="body_entered" from="Pivot/Range" to="." method="_on_range_body_entered"]
[connection signal="body_exited" from="Pivot/Range" to="." method="_on_range_body_exited"]
